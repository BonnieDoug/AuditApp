<div ui-view ng-init="doTakeAudit()">

    <h1>Proto of taking an audit.</h1>
    <div layout-padding class="grid-block wrap">

        <div layout-padding class="grid-block wrap">
            <div class="small-6 medium-3" >       
                <label>Audit Assigned to:</label><p>Someone Somewhere</p>
            </div>
            <div class="small-6 medium-3">
                <label>Address Assigned to:</label><p>123 Street, Somewhere, Someplace, S41 1AB</p>
            </div>
            <div class="small-6 medium-3">
                <label>Completion Due By: </label><p>18-04-2016</p>
            </div>
            <div class="small-6 medium-3">
                <label>Date Today: </label><p>{{ DateToday}}</p>
            </div>
        </div>


        <div ng-show="dataLoaded" layout-padding class="grid-block wrap group" ng-repeat="group in audit.groups">
            <h2>{{ group.name}}</h2>

            <div layout-padding class="grid-block small-12 wrap alternate" ng-repeat="question in group.questions" ng-model="takeAudit.answers[question.id].parent_question">
                <div class="small-6 medium-3">
                    <p>Question</p>            
                    <p>{{ question.question}}</p>            
                </div>
                
                {{ question.answerType.id}}
                
                <div class="small-2">
                    <label class="small-label">Answer</label>
                    <div class="grid-block">

                        <div class="grid-content text-left switch-label">Bad</div>
                        <div class="grid-content text-center switch-label">OK</div>
                        <div class="grid-content text-right switch-label">Good</div>
                        <div class="grid-content text-right switch-label">Great</div>
                    </div>
                    <md-slider ng-model="takeAudit.answers[question.id].score" class="md-primary" flex step="1" min="0" max="3" ></md-slider>
                    {{takeAudit.answers[question.id].score}}
                </div> 


                <div class="small-2" ng-if="question.addExpiry === 1">
                    <label>Expires</label>
                    <md-datepicker ng-model="takeAudit.answers[question.id].expires" md-placeholder="Enter date"></md-datepicker>
                </div>
                <div class="small-2" ng-if="question.addExpiry === 0">

                </div>



                <div class="small-2">
                    <md-input-container class="md-block" flex-gt-sm>        
                        <label>Notes</label>
                        <textarea ng-model="takeAudit.answers[question.id].notes" md-maxlength="150" rows="5" md-select-on-focus></textarea>                    
                    </md-input-container>
                </div>


                <div class="small-3" ng-if="question.addEvidence === 1">
                    <label>Evidence</label>
                    <input ng-model="takeAudit.answers[question.id].evidence" type="file">
                </div>
                <div class="small-3" ng-if="question.addEvidence === 0">
                    <!--                    <label>Evidence</label>
                                        <input ng-model="takeAudit.answers[question.id].evidence" type="file">-->
                </div>
            </div> 


        </div>


    </div>

    {{takeAudit}}

    <p>Audit Completion</p>

    <div style="position: relative;">
        <p>Low Example</p>
        <label style="position: absolute; left: 18%; top:50px;">20%</label>
        <meter min="0" max="100" low="25" high="75" optimum="100" value="20">20%</meter>
    </div>
    <div style="position: relative;">
        <p>Medium Example</p>
        <label style="position: absolute; left: 58%; top:50px;">60%</label>
        <meter min="0" max="100" low="25" high="75" optimum="100" value="60">60%</meter>
    </div>
    <div style="position: relative;">
        <p>High Example</p>
        <label style="position: absolute; left: 88%; top:50px;">90%</label>
        <meter min="0" max="100" low="25" high="75" optimum="100" value="90">90%</meter>
    </div>
    <md-progress-linear md-mode="determinate" value="60"></md-progress-linear>


</div>

